# === CRITICAL: Reduce size ===
CONFIG_ZMK_SETTINGS=y
CONFIG_SETTINGS_STORAGE=y
CONFIG_SETTINGS_STORAGE_DEV="nrf_vfs"
CONFIG_SETTINGS_STORAGE_BASE_PATH="/zmk"

# === Disable unused features ===
CONFIG_ZMK_DISPLAY=n
CONFIG_ZMK_BATTERY=n
CONFIG_ZMK_RGB_UNDERGLOW=n
CONFIG_ZMK_BACKLIGHT=n
CONFIG_ZMK_EXT_POWER=n
CONFIG_ZMK_MOUSE=n
CONFIG_ZMK_CONSOLE=n
CONFIG_LOG=n
CONFIG_ASSERT=n
CONFIG_DEBUG=n

# === Reduce keymap size ===
CONFIG_ZMK_KEYMAP_VALIDATION=n
CONFIG_ZMK_BEHAVIOR_QUEUE_SIZE=8
CONFIG_ZMK_HID_REPORT_QUEUE_SIZE=4

# === Reduce Bluetooth ===
CONFIG_BT_MAX_CONN=1
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_CENTRAL=n
CONFIG_BT_DIS=n
CONFIG_BT_HIDS=n
CONFIG_BT_GATT_CLIENT=n

# === Reduce stack/heap ===
CONFIG_MAIN_STACK_SIZE=1024
CONFIG_IDLE_STACK_SIZE=320
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=1024

# === Reduce debounce ===
CONFIG_ZMK_DEBOUNCE_PRESS_MS=5
CONFIG_ZMK_DEBOUNCE_RELEASE_MS=5
